<!DOCTYPE html>
<html lang="zh-H-TW">
<head>
  <meta charset="UTF-8" />
  <title>è·å ´ PUA æ‡‰å°ç·´åŠŸæˆ¿ï½œçµ„ç¹”æºé€š Ã— æƒ…ç·’å‹å‹™</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Noto Sans TC", "Microsoft JhengHei", sans-serif;
    }

    body {
      margin: 0;
      background: #f5f5f7;
      color: #222;
      display: flex;
      justify-content: center;
      padding: 24px;
    }

    .container {
      max-width: 980px;
      width: 100%;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
      padding: 24px 24px 32px;
    }

    h1 {
      margin-top: 0;
      font-size: 1.6rem;
      letter-spacing: .03em;
    }

    .subtitle {
      color: #666;
      font-size: 0.95rem;
      margin-bottom: 16px;
      line-height: 1.6;
    }

    .highlight {
      background: #fff9c4;
      padding: 2px 4px;
      border-radius: 4px;
    }

    /* é€²åº¦æ¢ */
    .progress-wrapper {
      margin: 12px 0 20px;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      font-size: 0.85rem;
      color: #555;
      margin-bottom: 6px;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      border-radius: 999px;
      background: #e5e5ea;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, #ff9f43, #eb3b5a);
      transition: width 0.25s ease;
    }

    /* æƒ…å¢ƒå¡ */
    .card {
      border-radius: 14px;
      border: 1px solid #eee;
      padding: 18px 16px 16px;
      margin-bottom: 16px;
      background: #fafafa;
    }

    .scenario-title {
      font-weight: 700;
      margin-bottom: 4px;
      font-size: 1.05rem;
    }

    .scenario-tag {
      display: inline-block;
      font-size: 0.75rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: #ffe0b2;
      color: #e65100;
      margin-bottom: 8px;
    }

    .scenario-text {
      font-size: 0.92rem;
      line-height: 1.6;
      margin-bottom: 4px;
      white-space: pre-line;
    }

    .scenario-note {
      font-size: 0.8rem;
      color: #777;
      margin-bottom: 0;
    }

    .section-title {
      font-size: 0.98rem;
      font-weight: 600;
      margin: 14px 0 6px;
    }

    .question-text {
      font-size: 0.9rem;
      margin-bottom: 8px;
    }

    .step-label {
      font-size: 0.8rem;
      color: #666;
      margin-bottom: 4px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 8px;
    }

    .option-btn {
      text-align: left;
      border-radius: 10px;
      border: 1px solid #ddd;
      padding: 9px 13px;
      font-size: 0.9rem;
      background: #fff;
      cursor: pointer;
      transition: all 0.18s ease;
    }

    .option-btn:hover {
      border-color: #ff9f43;
      box-shadow: 0 0 0 2px rgba(255,159,67,0.18);
    }

    .option-btn.correct {
      border-color: #2ecc71;
      background: #e9f9f1;
      color: #145a32;
    }

    .option-btn.incorrect {
      border-color: #ff3b30;
      background: #ffecec;
      color: #b21407;
    }

    .option-btn.disabled {
      opacity: 0.7;
      cursor: default;
      pointer-events: none;
    }

    .feedback {
      font-size: 0.86rem;
      margin-top: 2px;
      min-height: 1.2em;
    }

    .feedback.correct {
      color: #188038;
    }

    .feedback.incorrect {
      color: #b00020;
    }

    .explanation {
      margin-top: 6px;
      padding: 8px 10px;
      border-radius: 8px;
      font-size: 0.84rem;
      background: #f2f2f7;
      color: #444;
      display: none;
    }

    .explanation.visible {
      display: block;
    }

    .toggle-explain {
      margin-top: 4px;
      font-size: 0.8rem;
      color: #007aff;
      cursor: pointer;
      background: none;
      border: none;
      padding: 0;
    }

    .toggle-explain:hover {
      text-decoration: underline;
    }

    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-top: 16px;
    }

    .primary-btn, .secondary-btn {
      border-radius: 999px;
      border: none;
      padding: 9px 16px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.18s ease;
      white-space: nowrap;
    }

    .primary-btn {
      background: #eb3b5a;
      color: #fff;
    }

    .primary-btn:hover {
      background: #d6304a;
    }

    .primary-btn:disabled {
      opacity: 0.6;
      cursor: default;
    }

    .secondary-btn {
      background: #e5e5ea;
      color: #333;
    }

    .secondary-btn:hover {
      background: #d1d1d6;
    }

    .summary {
      font-size: 0.9rem;
      color: #555;
    }

    .score-pill {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 999px;
      background: #ffe0b2;
      color: #e65100;
      font-size: 0.8rem;
      margin-left: 6px;
    }

    @media (max-width: 640px) {
      .container {
        padding: 16px 14px 22px;
      }
      .controls {
        flex-direction: column-reverse;
        align-items: stretch;
      }
      .primary-btn, .secondary-btn {
        width: 100%;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>è·å ´ PUA æ‡‰å°ç·´åŠŸæˆ¿</h1>
    <p class="subtitle">
      ç¬¬äºŒå€‹ç·´ç¿’ï¼Œå¾ã€Œ<span class="highlight">çµ„ç¹”æºé€š Ã— æƒ…ç·’å‹å‹™</span>ã€çš„è§’åº¦ï¼Œç·´ç¿’é¢å°ä¸ç•¶ PUAï¼š<br>
      â‘  å…ˆåˆ¤æ–·ï¼šé€™ç¨®è¡Œç‚ºçš„æ€§è³ªæ˜¯ä»€éº¼ï¼Ÿ<br>
      â‘¡ ç•¶ä¸‹æ€éº¼å›æ¯”è¼ƒä¿è­·è‡ªå·±åˆç¶­æŒå°ˆæ¥­ï¼Ÿ<br>
      â‘¢ äº‹å¾Œå¯ä»¥æ€éº¼é‹ç”¨ç´€éŒ„ã€ç¤¾æœƒæ”¯æŒèˆ‡çµ„ç¹”åˆ¶åº¦ï¼Ÿ
    </p>

    <div class="progress-wrapper">
      <div class="progress-label">
        <span id="progress-text">æƒ…å¢ƒ 1 / 3</span>
        <span id="score-text">ç›®å‰æ­£ç¢ºï¼š0 é¡Œ</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
    </div>

    <!-- æƒ…å¢ƒèªªæ˜å¡ -->
    <div class="card" id="scenario-card">
      <div class="scenario-tag" id="scenario-tag">è·å ´æƒ…å¢ƒ</div>
      <div class="scenario-title" id="scenario-title">æƒ…å¢ƒæ¨™é¡Œ</div>
      <p class="scenario-text" id="scenario-text"></p>
      <p class="scenario-note" id="scenario-note"></p>
    </div>

    <!-- æ­¥é©Ÿä¸€ -->
    <div class="card">
      <div class="step-label">STEP 1</div>
      <div class="section-title">åˆ¤æ–·ï¼šé€™ç¨®è¡Œç‚ºçš„æ€§è³ªæ˜¯ä»€éº¼ï¼Ÿ</div>
      <p class="question-text" id="q1-text"></p>
      <div class="options" id="q1-options"></div>
      <div class="feedback" id="q1-feedback"></div>
      <button class="toggle-explain" id="q1-toggle-explain" type="button">é¡¯ç¤ºï¼éš±è—è§£æ</button>
      <div class="explanation" id="q1-explanation"></div>
    </div>

    <!-- æ­¥é©ŸäºŒ -->
    <div class="card">
      <div class="step-label">STEP 2</div>
      <div class="section-title">ç•¶ä¸‹å›æ‡‰ï¼šå“ªä¸€ç¨®èªªæ³•è¼ƒå¥åº·ï¼Ÿ</div>
      <p class="question-text" id="q2-text"></p>
      <div class="options" id="q2-options"></div>
      <div class="feedback" id="q2-feedback"></div>
      <button class="toggle-explain" id="q2-toggle-explain" type="button">é¡¯ç¤ºï¼éš±è—è§£æ</button>
      <div class="explanation" id="q2-explanation"></div>
    </div>

    <!-- æ­¥é©Ÿä¸‰ -->
    <div class="card">
      <div class="step-label">STEP 3</div>
      <div class="section-title">äº‹å¾Œè¡Œå‹•ï¼šå¾ã€Œæˆ‘ã€åˆ°ã€Œçµ„ç¹”ã€æ€éº¼ä¿è­·è‡ªå·±ï¼Ÿ</div>
      <p class="question-text" id="q3-text"></p>
      <div class="options" id="q3-options"></div>
      <div class="feedback" id="q3-feedback"></div>
      <button class="toggle-explain" id="q3-toggle-explain" type="button">é¡¯ç¤ºï¼éš±è—è§£æ</button>
      <div class="explanation" id="q3-explanation"></div>
    </div>

    <div class="controls">
      <button class="secondary-btn" id="restart-btn" type="button">é‡æ–°é–‹å§‹æœ¬ç·´åŠŸæˆ¿</button>
      <div style="flex:1"></div>
      <div class="summary">
        <span id="summary-text">ä¾åºå®Œæˆä¸‰å€‹æ­¥é©Ÿï¼Œå†é€²å…¥ä¸‹ä¸€å€‹æƒ…å¢ƒã€‚</span>
        <span class="score-pill" id="score-pill">ç·´ç¿’ä¸­</span>
      </div>
      <button class="primary-btn" id="next-btn" type="button" disabled>ä¸‹ä¸€å€‹æƒ…å¢ƒ â–·</button>
    </div>
  </div>

  <script>
    // ========= æƒ…å¢ƒè³‡æ–™ =========
    const scenarios = [
      {
        title: "æƒ…å¢ƒ 1ï¼šæœƒè­°ä¸­çš„å…¬é–‹ç¾è¾±",
        tag: "é–‹æœƒç™¼è¨€",
        text:
`ä½ åœ¨æ–°å…¬å¸å·¥ä½œä¸‰å€‹æœˆã€‚ä»Šå¤©é€±æœƒï¼Œå¤§å®¶è¼ªæµå ±å‘Šé€²åº¦ã€‚
ä½ åˆ†äº«äº†ä¸€å€‹æ–°çš„ä¼åŠƒæƒ³æ³•ï¼Œè¬›å®Œä¹‹å¾Œï¼Œä¸»ç®¡ç•¶è‘—å…¨çµ„é¢å‰èªªï¼š

ã€Œä½ é€™å€‹é‚è¼¯ä¹Ÿå¤ªå¹¼ç¨šäº†å§ï¼Ÿæˆ‘ä¸çŸ¥é“ä½ ä»¥å‰åœ¨å­¸æ ¡æ€éº¼æ··çš„ï¼Œ
ä½†åœ¨é€™è£¡ï¼Œé€™ç¨®ç¨‹åº¦æˆ‘çœŸçš„å¾ˆæ‡·ç–‘è¦ä¸è¦ç¹¼çºŒç”¨ä½ ã€‚ã€

èªæ°£å¸¶ç¬‘ï¼Œä½†ç¾å ´ç©ºæ°£ç¬é–“å‡çµï¼Œä¹‹å¾Œæ²’æœ‰äººæ›¿ä½ èªªè©±ã€‚`,
        note: "ä½ æ„Ÿè¦ºè¢«ç¾è¾±ã€è¢«å¦å®šï¼Œä¹Ÿé–‹å§‹æ‡·ç–‘æ˜¯ä¸æ˜¯è‡ªå·±çœŸçš„å¾ˆç³Ÿã€‚",
        q1: {
          question: "å…ˆå°±æºé€šè¡Œç‚ºä¾†çœ‹ï¼Œé€™ç¨®åšæ³•æœ€æ¥è¿‘å“ªä¸€ç¨®æƒ…æ³ï¼Ÿ",
          choices: [
            "A. åˆç†è€Œç›´æ¥çš„å·¥ä½œå›é¥‹ï¼Œåªæ˜¯é¢¨æ ¼æ¯”è¼ƒç›´ç™½ã€‚",
            "B. å¸¶æœ‰è²¶ä½èˆ‡äººèº«æ”»æ“Šçš„ã€Œè·å ´éœ¸å‡Œï¼PUAã€å‚¾å‘ã€‚",
            "C. åªæ˜¯ä¸»ç®¡ä¸€æ™‚èªªè©±å¤ªå¿«ï¼Œå®Œå…¨ä¸éœ€è¦æ”¾åœ¨å¿ƒä¸Šã€‚"
          ],
          correctIndex: 1,
          explanation:
"é€™è£¡çš„é‡é»ä¸æ˜¯ã€Œæœ‰æ²’æœ‰æ„è¦‹ã€ï¼Œè€Œæ˜¯ã€Œæ€éº¼è¬›ã€ï¼š\n" +
"ï¼æ‰¹è©•å…§å®¹æ²’æœ‰èšç„¦åœ¨ä¼åŠƒæœ¬èº«ï¼Œè€Œæ˜¯æ”»æ“Šä½ çš„èƒ½åŠ›èˆ‡äººæ ¼ï¼ˆå¹¼ç¨šã€ä»¥å‰æ€éº¼æ··ã€è¦ä¸è¦ç”¨ä½ ï¼‰ã€‚\n" +
"ï¼é¸æ“‡åœ¨çœ¾äººé¢å‰è²¶ä½ä½ ï¼Œæœƒè®“ä½ åœ¨çµ„ç¹”ä¸­å¤±å»é¢å­èˆ‡ä¿¡ä»»ï¼Œæ˜¯å…¸å‹è·å ´éœ¸å‡Œï¼PUA çš„æ‰‹æ³•ä¹‹ä¸€ã€‚\n\n" +
"æ‰€ä»¥è¼ƒè²¼è¿‘ Bï¼šé€™å·²ç¶“è¶…éæ­£å¸¸å·¥ä½œå›é¥‹ï¼Œè€Œæ˜¯ä¸€ç¨®ç”¨ç¾è¾±ä¾†è£½é€ ä¸å®‰å…¨æ„Ÿèˆ‡æ¬ŠåŠ›å·®è·çš„è¡Œç‚ºã€‚"
        },
        q2: {
          question: "ç•¶ä¸‹ä½ å¦‚æœè¦é–‹å£å›æ‡‰ï¼Œä¸‹åˆ—å“ªä¸€ç¨®æ¯”è¼ƒç¬¦åˆã€Œç¶­æŒå°ˆæ¥­ï¼‹ä¿è­·è‡ªå·±ã€ï¼Ÿ",
          options: [
            {
              text: "ã€Œé‚£ä¸ç„¶ä½ è¦ºå¾—æ€æ¨£æ‰å«å²å®³ï¼Ÿä½ è‡ªå·±åšå•Šï¼ã€ç•¶å ´ç¿»ç™½çœ¼ã€ä¸Ÿç­†ã€‚",
              isBest: false,
              explanation: "æƒ…ç·’å¯ä»¥ç†è§£ï¼Œä½†é€™ç¨®å›æ‡‰å®¹æ˜“è¢«æ¨™è¨˜æˆã€ä¸å°ˆæ¥­ã€ä¸ç©©å®šã€ï¼Œäº‹å¾Œå°ä½ éå¸¸ä¸åˆ©ã€‚"
            },
            {
              text: "ï¼ˆæ²‰é»˜ï¼Œä¸å†èªªè©±ï¼Œä¸‹æ¬¡å ±å‘Šæ™‚ç›¡é‡å°‘è¬›ï¼Œé¿å…è¢«é»åã€‚ï¼‰",
              isBest: false,
              explanation: "çŸ­æœŸå¯ä»¥è‡ªä¿ï¼Œä½†æœƒè®“ä¸»ç®¡çš„è¡Œç‚ºä¸æ–·è¢«å¼·åŒ–ï¼Œä¹Ÿå¯èƒ½è®“ä½ å¤±å»ç™¼è²èˆ‡æˆé•·çš„æ©Ÿæœƒã€‚"
            },
            {
              text: "ã€Œæˆ‘è½åˆ°çš„æ˜¯æ‚¨å°ä¼åŠƒçš„é‚è¼¯æœ‰ç–‘æ…®ã€‚æ–¹ä¾¿è«‹æ‚¨å…·é«”èªªæ˜å“ªä¸€æ®µé‚è¼¯æœ€è®“æ‚¨æ“”å¿ƒå—ï¼Ÿæˆ‘å¯ä»¥å†èª¿æ•´ã€‚ã€",
              isBest: true,
              explanation: "é€™å¥è©±æŠŠç„¦é»æ‹‰å›ã€å·¥ä½œå…§å®¹ã€ï¼Œä¸æ¥æ”¶äººèº«æ”»æ“Šï¼ŒåŒæ™‚ç¶­æŒå°ˆæ¥­èˆ‡ä¿®æ­£æ„é¡˜ã€‚"
            }
          ],
          explanation:
"çµ„ç¹”æºé€šçš„è§’åº¦ï¼Œç•¶ä¸‹å›æ‡‰è¦å…¼é¡§ï¼š\n" +
"ï¼ä¸è¦å†å‡é«˜è¡çªï¼ˆé¿å…è¢«è²¼ä¸Šæƒ…ç·’åŒ–æ¨™ç±¤ï¼‰ï¼Œ\n" +
"ï¼åˆä¸è¦å®Œå…¨é»˜é»˜åä¸‹ï¼ŒæŠŠç¾è¾±æ­£å¸¸åŒ–ã€‚\n\n" +
"æŠŠç„¦é»æ‹‰å›ã€Œå…·é«”å·¥ä½œå…§å®¹ã€æ˜¯ä¸€ç¨®å…¸å‹ç­–ç•¥ï¼š\n" +
"ä½ æ²’æœ‰æ¥å—å°æ–¹çš„è²¶ä½ï¼Œä½†ä½ é¡˜æ„é‡å°ä¼åŠƒæœ¬èº«èª¿æ•´ã€‚"
        },
        q3: {
          question: "äº‹å¾Œè¦å¾ã€Œä¿è­·è‡ªå·±ï¼‹å–„ç”¨çµ„ç¹”è³‡æºã€å‡ºç™¼ï¼Œä¸‹åˆ—å“ªä¸€å€‹å¾ŒçºŒè¡Œå‹•æœ€æœ‰å¹«åŠ©ï¼Ÿ",
          options: [
            {
              text: "å®Œå…¨ç•¶ä½œæ²’ç™¼ç”Ÿï¼Œå‘Šè¨´è‡ªå·±ã€Œæˆ‘å¤ªæ•æ„Ÿã€ï¼Œç¹¼çºŒç•¶ä½œä¸€åˆ‡æ­£å¸¸ã€‚",
              isBest: false,
              explanation: "é€™æœƒè®“ä½ å¿½ç•¥çœŸå¯¦å£“åŠ›æºï¼Œä¹Ÿè®“é¡ä¼¼è¡Œç‚ºåœ¨çµ„ç¹”è£¡æŒçºŒè¢«é»˜èªã€‚"
            },
            {
              text: "æŠŠç•¶å¤©æœƒè­°å…§å®¹è¨˜éŒ„ä¸‹ä¾†ï¼ŒåŒ…å«å¤§è‡´ç”¨è©èˆ‡ä½ çš„æ„Ÿå—ï¼Œå†æ‰¾å€¼å¾—ä¿¡ä»»çš„å‰è¼©æˆ–äººè³‡è¨è«–ï¼Œè©•ä¼°æœªä¾†æ˜¯å¦éœ€è¦æ­£å¼åæ˜ ã€‚",
              isBest: true,
              explanation: "é€™åŒæ™‚åšåˆ°ï¼š\nï¼ä¸å†æŠŠå…¨éƒ¨å•é¡Œå…§åŒ–æˆè‡ªå·±å¤ªè„†å¼±ï¼Œ\nï¼ç•™å­˜ç´€éŒ„ï¼Œè¦–æœªä¾†ç‹€æ³æ±ºå®šè¦ä¸è¦å‡ç´šè™•ç†ã€‚"
            },
            {
              text: "ç«‹åˆ»åœ¨å…¬å¸ç¾¤çµ„å…¬é–‹åå—†ä¸»ç®¡ï¼Œè¦æ±‚ä»–å‘ä½ é“æ­‰ï¼Œè®“å¤§å®¶ä¾†è©•è©•ç†ã€‚",
              isBest: false,
              explanation: "ä½ æœ‰æ¬Šåˆ©è¦ºå¾—ä¸èˆ’æœï¼Œä½†åœ¨å…¬é–‹é »é“ç¡¬ç¢°ç¡¬ï¼Œé€šå¸¸å°æ¬ŠåŠ›è¼ƒå°çš„ä¸€æ–¹ä¸åˆ©ã€‚"
            }
          ],
          explanation:
"æƒ…ç·’å‹å‹™èˆ‡å£“åŠ›ç†è«–æé†’æˆ‘å€‘ï¼šé•·æœŸéœ¸å‡Œæœƒå°è‡´å€¦æ€ èˆ‡å¥åº·é¢¨éšªã€‚\n\n" +
"å› æ­¤äº‹å¾Œè¡Œå‹•æ‡‰è©²åŒ…å«ï¼š\n" +
"ï¼è‡ªæˆ‘è¦ºå¯Ÿèˆ‡æƒ…ç·’æ•´ç†ï¼ˆè‚¯å®šè‡ªå·±çš„æ„Ÿå—æ˜¯åˆç†çš„ï¼‰ï¼›\n" +
"ï¼å…·é«”çš„äº‹ä»¶ç´€éŒ„ï¼ˆæ™‚é–“ã€å ´åˆã€èªªäº†ä»€éº¼ã€å…¶ä»–äººåœ¨å ´èˆ‡å¦ï¼‰ï¼›\n" +
"ï¼é©åº¦å°‹æ±‚ç¤¾æœƒæ”¯æŒèˆ‡åˆ¶åº¦è³‡æºï¼ˆå‰è¼©ã€äººè³‡ã€æ­£å¼ç®¡é“ï¼‰ã€‚"
        }
      },
      {
        title: "æƒ…å¢ƒ 2ï¼šä¸åˆç†åŠ ç­èˆ‡æƒ…ç·’å‹’ç´¢",
        tag: "å·¥ä½œé‡èˆ‡ç•Œç·š",
        text:
`ä½ æ˜¯æ–°é€²æ­£è·ï¼Œä¸‹é€±æœ‰ä¸€å€‹å¤§æ¡ˆå­è¦äº¤ã€‚ä¸»ç®¡åœ¨é€±äº”ä¸‹åˆ 5 é»åŠå«ä½ é€²è¾¦å…¬å®¤ï¼Œèªªï¼š

ã€Œé€™ä»½ç°¡å ±æˆ‘é‚„æ˜¯æ¯”è¼ƒæ”¾å¿ƒäº¤çµ¦ä½ åšï¼Œé€±ä¸€æ—©ä¸Šçµ¦æˆ‘æœ€æ–°ç‰ˆã€‚
å¹´è¼•äººå°±æ˜¯è¦è¡ä¸€ä¸‹ï¼Œä¸ç„¶æ€éº¼å­¸ï¼Ÿå¦‚æœä½ é€£é€™ç¨®æ™‚å€™éƒ½ä¸é¡˜æ„å¤šä»˜å‡ºï¼Œ
æˆ‘æœƒå¾ˆé›£å¹«ä½ åœ¨è€ƒç¸¾ä¸Šèªªè©±ã€‚ã€

ä½ æœ¬ä¾†é€±æœ«å®‰æ’è¦å›å®¶é™ªå®¶äººï¼Œåªèƒ½å°·å°¬åœ°ç¬‘ç¬‘èªªï¼šã€Œå¥½ï¼Œæˆ‘è©¦è©¦çœ‹ã€‚ã€`,
        note: "ä½ è¦ºå¾—è¢«å¨è„…ï¼Œåˆè¦ºå¾—å¥½åƒæ˜¯è‡ªå·±ä¸å¤ åŠªåŠ›ã€‚",
        q1: {
          question: "å°±çµ„ç¹”æºé€šèˆ‡æ¬ŠåŠ›ä¾†çœ‹ï¼Œä¸»ç®¡é€™æ®µè©±å•é¡Œæœ€åš´é‡çš„æ˜¯å“ªä¸€é»ï¼Ÿ",
          choices: [
            "A. ç”¨ã€Œä¿¡ä»»ã€åŒ…è£å¯¦éš›ä¸Šæ˜¯å–®å‘æŒ‡æ´¾é¡å¤–å·¥ä½œï¼Œæ²’æœ‰è¨è«–å·¥ä½œé‡èˆ‡è³‡æºã€‚",
            "B. èªç‚ºå¹´è¼•äººè¦å¤šè¡ä¸€é»ï¼Œé€™æ˜¯å¾ˆæ­£å¸¸çš„æœŸå¾…ã€‚",
            "C. æåˆ°è€ƒç¸¾ï¼Œè¡¨ç¤ºä»–å…¶å¯¦æ˜¯ç‚ºä½ å¥½ï¼Œå¸Œæœ›ä½ è¡¨ç¾æ›´å¥½ã€‚"
          ],
          correctIndex: 0,
          explanation:
"é€™æ®µè©±çš„é—œéµå•é¡Œåœ¨æ–¼ï¼š\n" +
"ï¼è¡¨é¢æ˜¯ç¨±è®šèˆ‡ä¿¡ä»»ï¼Œå¯¦éš›æ˜¯ã€Œåœ¨ä¸‹ç­å‰è‡¨æ™‚æŒ‡æ´¾å¤§é‡å·¥ä½œã€ï¼Œæ²’æœ‰è¨è«–ä½ çš„ç¾æœ‰å·¥ä½œé‡èˆ‡é€±æœ«å®‰æ’ã€‚\n" +
"ï¼æŠŠã€é¡˜ä¸é¡˜æ„çŠ§ç‰²ç§äººæ™‚é–“ã€èˆ‡ã€è€ƒç¸¾ï¼å¿ èª ã€ç¶åœ¨ä¸€èµ·ï¼Œæ˜¯å…¸å‹æƒ…ç·’å‹’ç´¢èˆ‡æ¬ŠåŠ›æ¿«ç”¨ã€‚\n" +
"æ‰€ä»¥æœ€åš´é‡çš„æ˜¯ Aï¼ŒBã€C éƒ½æ˜¯åœ¨åˆç†åŒ–é€™ç¨®åšæ³•ã€‚"
        },
        q2: {
          question: "å¦‚æœä½ æƒ³åœ¨ç•¶ä¸‹ç¨å¾®æ‹‰å›ä¸€é»ç•Œç·šï¼Œä½†åˆä¸æƒ³ç«‹åˆ»ç¿»è‡‰ï¼Œä¸‹åˆ—å“ªä¸€å¥æ¯”è¼ƒå¯è¡Œï¼Ÿ",
          options: [
            {
              text: "ã€Œå¥½å•¦æˆ‘çŸ¥é“å•¦ï¼Œåæ­£æˆ‘å°±æ˜¯è¦åšå°±å°äº†ã€‚ã€è‹¦ç¬‘ï¼Œå¿ƒè£¡çˆ†ç‚¸ã€‚",
              isBest: false,
              explanation: "é€™è®“å°æ–¹ä»¥ç‚ºä½ èªåŒé€™ç¨®å®‰æ’ï¼Œä¹Ÿå¼·åŒ–äº†ä¹‹å¾Œç¹¼çºŒé€™æ¨£æŒ‡æ´¾çš„å¯èƒ½ã€‚"
            },
            {
              text: "ã€Œæˆ‘çŸ¥é“é€™å€‹æ¡ˆå­å¾ˆé‡è¦ï¼Œä¹Ÿè¬è¬ä½ ä¿¡ä»»æˆ‘ã€‚æˆ‘ç›®å‰æ‰‹ä¸Šçš„é€²åº¦æ˜¯ Aã€Bã€Cï¼Œé€±æœ«åŸæœ¬æœ‰å®¶åº­å®‰æ’ã€‚èƒ½ä¸èƒ½ä¸€èµ·è©•ä¼°ä¸€ä¸‹ï¼Œè¦ä¸è¦èª¿æ•´å…¶ä»–å·¥ä½œæˆ–åˆ†é…éƒ¨åˆ†å…§å®¹çµ¦åŒäº‹ï¼Ÿã€",
              isBest: true,
              explanation: "é€™å¥è©±åŒæ™‚è¡¨é”ï¼š\nï¼èªåŒæ¡ˆå­çš„é‡è¦æ€§ã€ç¶­æŒå°ˆæ¥­ï¼›\nï¼æ¸…æ¥šèªªæ˜ä½ çš„å·¥ä½œé‡èˆ‡ç•Œç·šï¼›\nï¼æŠŠå•é¡Œè®Šæˆã€ä¸€èµ·è©•ä¼°è³‡æºã€ï¼Œè€Œä¸æ˜¯åªçœ‹ä½ æœ‰æ²’æœ‰ã€Œå¥‰ç»ç²¾ç¥ã€ã€‚"
            },
            {
              text: "ã€Œä½ é€™æ¨£å¨è„…æˆ‘è€ƒç¸¾ä¸å¤ªå°ˆæ¥­å§ï¼Ÿæˆ‘å¯ä»¥éŒ„éŸ³å—ï¼Ÿã€",
              isBest: false,
              explanation: "é€™æ¨£èªªæœ‰å…¶é“ç†ï¼Œä½†åœ¨æ¬ŠåŠ›å·®è·å¤§çš„æƒ…æ³ä¸‹ï¼Œç•¶å ´æ­£é¢è¡çªé¢¨éšªå¾ˆé«˜ã€‚"
            }
          ],
          explanation:
"å¾æƒ…ç·’å‹å‹™çš„è§’åº¦ï¼Œä½ å¯ä»¥é¸æ“‡ï¼š\n" +
"ï¼ä¸è¦å†åšéå¤šçš„è¡¨å±¤è¨å¥½ï¼ˆç¡¬ç¬‘è‘—èªªæ²’å•é¡Œï¼‰ï¼Œ\n" +
"ï¼æ”¹æˆã€æœ‰ç•Œç·šçš„å°ˆæ¥­ã€ï¼šæ‰¿èªæ¡ˆå­é‡è¦ï¼Œä½†è¦æ±‚ä¸€èµ·è©•ä¼°è³‡æºèˆ‡å·¥ä½œé‡ã€‚\n\n" +
"é€™ç¨®å›æ‡‰ä¹Ÿæ¯”è¼ƒæœ‰åˆ©æ–¼æ—¥å¾Œï¼Œå¦‚æœçœŸçš„è¦å¾€äººè³‡æˆ–æ›´é«˜å±¤åæ˜ ï¼Œä½ æ›¾ç¶“è©¦åœ–ç”¨ç†æ€§æºé€šè™•ç†ã€‚"
        },
        q3: {
          question: "äº‹å¾Œï¼Œå“ªä¸€å€‹åšæ³•æœ€ç¬¦åˆï¼šä¿è­·è‡ªå·±ï¼‹å–„ç”¨ç¤¾æœƒæ”¯æŒèˆ‡åˆ¶åº¦ï¼Ÿ",
          options: [
            {
              text: "ä»€éº¼ç´€éŒ„éƒ½ä¸ç•™ï¼Œåªå‘Šè¨´è‡ªå·±è¦æ›´æœƒçœ‹çœ¼è‰²ï¼Œä»¥å¾Œä¸»ç®¡èªªä»€éº¼å°±å…¨éƒ¨ç­”æ‡‰ã€‚",
              isBest: false,
              explanation: "é€™æœƒè®“ä½ è¶Šä¾†è¶Šèµ°å‘ã€Œéåº¦æƒ…ç·’å‹å‹™èˆ‡è‡ªæˆ‘çŠ§ç‰²ã€ï¼Œå¾ˆå®¹æ˜“å€¦æ€ ã€‚"
            },
            {
              text: "æŠŠé€™æ¬¡å°è©±å¤§è‡´å…§å®¹è¨˜ä¸‹ä¾†ï¼ŒåŒ…å«æ—¥æœŸã€æ™‚é–“ã€é—œéµå­—å¥ï¼Œä¸¦ä¸”è·Ÿä¿¡ä»»çš„åŒäº‹æˆ–å°å¸«è¨è«–ï¼Œäº†è§£å…¬å¸æ–‡åŒ–èˆ‡å¯è¡Œçš„æ‡‰å°ç­–ç•¥ã€‚",
              isBest: true,
              explanation: "é€™åŒæ™‚é‹ç”¨ï¼š\nï¼è‡ªæˆ‘è¦ºå¯Ÿèˆ‡ç•Œç·šæ„è­˜ï¼›\nï¼åŒå„•èˆ‡å°å¸«çš„ç¤¾æœƒæ”¯æŒï¼›\nï¼ç‚ºå°‡ä¾†å¿…è¦æ™‚çš„æ­£å¼åæ˜ ç´¯ç©å®¢è§€ç´€éŒ„ã€‚"
            },
            {
              text: "ç«‹åˆ»åœ¨åŒ¿åç¤¾ç¾¤ä¸Šå…¬é–‹å¯«æ–‡çˆ†æ–™å…¬å¸æœ‰å¤šçˆ›ï¼Œä¸¦ tag å…¬å¸å¸³è™Ÿã€‚",
              isBest: false,
              explanation: "é€™å¯èƒ½æœƒå¸¶ä¾†æƒ…ç·’å®£æ´©ï¼Œä½†ä¹Ÿå¯èƒ½è®“ä½ æš´éœ²åœ¨æ³•å¾‹èˆ‡è·æ¶¯é¢¨éšªä¸­ã€‚"
            }
          ],
          explanation:
"å£“åŠ›èˆ‡å€¦æ€ ç†è«–æé†’ï¼šå¦‚æœä¸èª¿æ•´çµæ§‹æˆ–ç•Œç·šï¼Œé•·æœŸé«˜å£“æœƒç›´æ¥è€—æå¥åº·ã€‚\n\n" +
"æ‰€ä»¥äº‹å¾Œè¡Œå‹•æ‡‰è©²çµåˆï¼š\n" +
"ï¼ç´€éŒ„ï¼ˆå®¢è§€æè¿°äº‹ä»¶ï¼‰ï¼›\n" +
"ï¼ç¤¾æœƒæ”¯æŒï¼ˆåŒäº‹ã€å°å¸«ã€å®¶äººï¼‰ï¼›\n" +
"ï¼ç†è§£çµ„ç¹”æ–‡åŒ–èˆ‡æ­£å¼ç®¡é“ï¼ˆä¾‹å¦‚äººè³‡ã€ç”³è¨´æµç¨‹ï¼‰ã€‚"
        }
      },
      {
        title: "æƒ…å¢ƒ 3ï¼šç¾¤çµ„è£¡çš„ PUA èˆ‡ç§è¨Šé›™é‡è¨Šè™Ÿ",
        tag: "æ•¸ä½ç›£æ§èˆ‡æƒ…ç·’",
        text:
`ä½ åœ¨å…¬å¸ LINE å·¥ä½œç¾¤çµ„è£¡ï¼Œå¸¸è¢«ä¸»ç®¡é»åï¼š

ã€Œ@ä½  é€™éº¼ç°¡å–®ä¹Ÿåšä¸å¥½ï¼Ÿå¤§å®¶çœ‹çœ‹ï¼Œé€™ç¨®éŒ¯èª¤ä»¥å¾Œä¸è¦å†çŠ¯ã€‚ã€
ã€Œ@ä½  é€™å€‹é€Ÿåº¦ä¹Ÿå¤ªæ…¢äº†å§ï¼Ÿè¦ä¸è¦è€ƒæ…®ä½ æ˜¯ä¸æ˜¯é©åˆé€™å€‹ä½ç½®ï¼Ÿã€

ä½†æ¯æ¬¡ä½ ç§ä¸‹æ‰¾ä»–è«‡ï¼Œä»–åˆæœƒèªªï¼š
ã€Œæˆ‘åªæ˜¯æ¿€å‹µä½ å•¦ï¼Œä½ ä¸è¦é‚£éº¼ç»ç’ƒå¿ƒã€‚ä½ è¦æ„Ÿè¬æˆ‘é¡˜æ„èŠ±æ™‚é–“æ•™ä½ ã€‚ã€`,
        note: "ä½ é–‹å§‹åˆ†ä¸æ¸…æ¥šï¼Œæ˜¯ä¸æ˜¯è‡ªå·±çœŸçš„å¤ªæ•æ„Ÿï¼Œé‚„æ˜¯ä¸»ç®¡åœ¨æ“å¼„ä½ çš„æ„Ÿå—ã€‚",
        q1: {
          question: "å°±æ•¸ä½æºé€šèˆ‡æƒ…ç·’å‹å‹™ä¾†èªªï¼Œé€™ç¨®åšæ³•æœ€å¤§çš„å•é¡Œæ˜¯ï¼Ÿ",
          choices: [
            "A. æŠŠåŸæœ¬å¯ä»¥ç§ä¸‹èªªçš„å›é¥‹ï¼Œæ¬åˆ°å…¬é–‹ç¾¤çµ„ä¸­ç¾è¾±ï¼ŒåŠ æ·±æ¬ŠåŠ›ä¸å°ç­‰èˆ‡ææ‡¼æ„Ÿã€‚",
            "B. ä½¿ç”¨è¡¨æƒ…ç¬¦è™Ÿå¤ªå°‘ï¼Œè®“äººæ„Ÿè¦ºä¸åˆ°æº«åº¦ã€‚",
            "C. åœ¨ç§è¨Šèªªè‡ªå·±å…¶å¯¦æ˜¯åœ¨æ¿€å‹µï¼Œæ˜¯ä¸€ç¨®å¾ˆè²¼å¿ƒçš„è¡Œç‚ºã€‚"
          ],
          correctIndex: 0,
          explanation:
"é—œéµå•é¡Œåœ¨æ–¼ï¼š\n" +
"ï¼åœ¨å…¬é–‹ç¾¤çµ„ä¸­é»åè²¶ä½ï¼Œæ˜¯åˆ©ç”¨ã€Œæ‰€æœ‰äººéƒ½åœ¨çœ‹ã€çš„å£“åŠ›ä¾†æ§åˆ¶ä½ ï¼Œ\n" +
"ï¼ç§ä¸‹å†ç”¨ã€Œä½ å¤ªç»ç’ƒå¿ƒã€ã€Œä½ è¦æ„Ÿè¬æˆ‘ã€ä¾†ç¿»è½‰ç¾å¯¦ï¼Œæ˜¯ç¶“å…¸ PUAï¼ç…¤æ°£ç‡ˆä½œæ³•ã€‚\n" +
"é€™è®“ä½ é›£ä»¥ç›¸ä¿¡è‡ªå·±çš„æ„Ÿå—ï¼Œä¹Ÿé›£ä»¥åœ¨çµ„ç¹”ä¸­å°‹æ±‚æ”¯æŒã€‚"
        },
        q2: {
          question: "è‹¥ä½ æƒ³åœ¨æŸä¸€æ¬¡ç§è¨Šä¸­ï¼Œè©¦è‘—ç”¨çµ„ç¹”æºé€šèªè¨€è¡¨é”ç•Œç·šï¼Œä¸‹åˆ—å“ªä¸€å¥è¼ƒåˆé©ï¼Ÿ",
          options: [
            {
              text: "ã€Œä½ æ¯æ¬¡éƒ½åœ¨ç¾¤çµ„ç¾è¾±æˆ‘ï¼Œæˆ‘çœŸçš„å¿«å—ä¸äº†ï¼Œä½ é€™æ¨£å¾ˆéåˆ†ã€‚ã€",
              isBest: false,
              explanation: "æƒ…ç·’çœŸå¯¦ï¼Œä½†å®¹æ˜“è¢«å°æ–¹æŠ“ä½ã€ä½ ä¸å°ˆæ¥­ã€å¤ªæƒ…ç·’åŒ–ã€ä¾†åæ“Šã€‚"
            },
            {
              text: "ã€Œæˆ‘æƒ³å›æ‡‰ä¸€ä¸‹æœ€è¿‘å¹¾æ¬¡åœ¨ç¾¤çµ„è¢«é»åçš„æƒ…æ³ã€‚å°æˆ‘ä¾†èªªï¼Œå¦‚æœæ˜¯å·¥ä½œä¸Šçš„éŒ¯èª¤ï¼Œæˆ‘å¾ˆé¡˜æ„èª¿æ•´ï¼Œä½†ç•¶çœ¾çš„è² é¢è©•è«–æœƒè®“æˆ‘åœ¨åœ˜éšŠä¸­å¾ˆé›£å±•é–‹å·¥ä½œã€‚æœªä¾†å¦‚æœæœ‰éœ€è¦èª¿æ•´çš„åœ°æ–¹ï¼Œèƒ½ä¸èƒ½å„ªå…ˆç”¨ç§è¨Šæˆ–ä¸€å°ä¸€çš„æ–¹å¼èªªæ˜ï¼Ÿã€",
              isBest: true,
              explanation: "é€™å¥è©±ï¼š\nï¼æ‰¿èªè‡ªå·±é¡˜æ„ç‚ºå·¥ä½œå…§å®¹è² è²¬ï¼Œ\nï¼èªªå‡ºç•¶çœ¾è©•è«–å°å·¥ä½œé—œä¿‚çš„å¯¦éš›å½±éŸ¿ï¼Œ\nï¼æå‡ºå…·é«”æ›¿ä»£æ–¹æ¡ˆï¼ˆç§è¨Šã€ä¸€å°ä¸€ï¼‰ï¼Œæ˜¯æˆç†Ÿçš„ç•Œç·šè¡¨é”ã€‚"
            },
            {
              text: "ã€Œå¥½å•¦ä½ èªªå¾—éƒ½å°ï¼Œæˆ‘å°±æ˜¯å¤ªç»ç’ƒå¿ƒï¼Œä»¥å¾Œæˆ‘æœƒé–‰å˜´èªçœŸåšäº‹ã€‚ã€",
              isBest: false,
              explanation: "é€™æ˜¯æŠŠå°æ–¹çš„ PUA è©±è¡“å…§åŒ–ç‚ºçœŸç†ï¼Œé•·æœŸæœƒä¾µè•è‡ªå°Šèˆ‡åˆ¤æ–·åŠ›ã€‚"
            }
          ],
          explanation:
"å¾çµ„ç¹”æºé€šè§’åº¦ï¼Œæœ‰æ•ˆçš„ç•Œç·šè¡¨é”é€šå¸¸åŒ…å«ï¼š\n" +
"ï¼æè¿°å…·é«”è¡Œç‚ºï¼ˆä»€éº¼æ™‚å€™ã€åœ¨å“ªè£¡ã€èªªäº†ä»€éº¼ï¼‰ï¼›\n" +
"ï¼èªªæ˜å°å·¥ä½œçš„å½±éŸ¿ï¼ˆè‡ªå·±èˆ‡åœ˜éšŠï¼‰ï¼›\n" +
"ï¼æå‡ºå…·é«”ã€å¯è¡Œçš„æ›¿ä»£åšæ³•ã€‚\n\n" +
"é€™æ¨£å¯ä»¥æŠŠå•é¡Œå¾ã€Œä½ å¤ªæ•æ„Ÿã€è½‰å›ã€Œé€™ç¨®åšæ³•å°å·¥ä½œé—œä¿‚èˆ‡ç¸¾æ•ˆæœ‰ä»€éº¼å½±éŸ¿ã€ã€‚"
        },
        q3: {
          question: "å¦‚æœé€™æ¨£çš„æƒ…æ³å·²ç¶“æŒçºŒä¸€æ®µæ™‚é–“ï¼Œä½ å¯ä»¥æ¡å–å“ªä¸€å€‹è¼ƒæˆç†Ÿçš„å¾ŒçºŒè¡Œå‹•ï¼Ÿ",
          options: [
            {
              text: "æŠŠæ‰€æœ‰å°è©±ç´€éŒ„æ•´ç†æˆæ™‚é–“è»¸ï¼ˆå«ç¾¤çµ„èˆ‡ç§è¨Šï¼‰ï¼Œç„¶å¾Œå…ˆèˆ‡ä¿¡ä»»çš„å‰è¼©ã€äººè³‡æˆ–å°å¸«è¨è«–ï¼Œè©•ä¼°æ˜¯å¦å•Ÿå‹•æ­£å¼åæ˜ æˆ–èª¿æ•´éƒ¨é–€çš„å¯èƒ½ã€‚",
              isBest: true,
              explanation: "é€™é‹ç”¨äº†ï¼š\nï¼äº‹ä»¶ç´€éŒ„ï¼ˆé¿å…åªå‰©ä¸»è§€æ„Ÿå—ï¼‰ï¼›\nï¼ç¤¾æœƒæ”¯æŒèˆ‡åˆ¶åº¦è³‡æºï¼›\nï¼è©•ä¼°é¢¨éšªå¾Œå†æ±ºå®šè¦ä¸è¦æ­£å¼æŠ•è¨´æˆ–å°‹æ±‚èª¿æ•´ã€‚"
            },
            {
              text: "ç›´æ¥åœ¨ç¾¤çµ„è£¡è²¼å‡ºä½ å’Œä¸»ç®¡çš„ç§è¨Šæˆªåœ–ï¼Œè®“å¤§å®¶çœ‹æ¸…æ¥šä»–çš„çœŸé¢ç›®ã€‚",
              isBest: false,
              explanation: "é›–ç„¶å¾ˆæƒ³é€™æ¨£åšï¼Œä½†åœ¨å¤šæ•¸çµ„ç¹”æ–‡åŒ–ä¸‹ï¼Œé€™å¾ˆå¯èƒ½å°ä½ é€ æˆåæ•ˆæœï¼Œä¹Ÿç‰½æ¶‰éš±ç§èˆ‡è¦ç¯„å•é¡Œã€‚"
            },
            {
              text: "èªå®šã€Œæ‰€æœ‰å…¬å¸éƒ½ä¸€æ¨£çˆ›ã€ï¼Œä»€éº¼ä¹Ÿä¸åšï¼Œåªæ˜¯é»˜é»˜åœ°æ¯å¤©æ¶ˆè€—è‡ªå·±ã€‚",
              isBest: false,
              explanation: "é€™æœƒè®“ä½ èµ°å‘ç¿’å¾—ç„¡åŠ©ï¼Œé•·æœŸå¤§å¹…å¢åŠ å€¦æ€ èˆ‡å¿ƒç†å¥åº·é¢¨éšªã€‚"
            }
          ],
          explanation:
"æƒ…ç·’èˆ‡å£“åŠ›ç†è«–å¼·èª¿ï¼šç•¶æƒ…å¢ƒå·²æ˜é¡¯ä¸å¥åº·ï¼Œæˆç†Ÿçš„åšæ³•ä¸æ˜¯ç¹¼çºŒç¡¬æ’ï¼Œ\n" +
"è€Œæ˜¯ï¼š\n" +
"ï¼å–„ç”¨ç´€éŒ„èˆ‡æ”¯æŒç³»çµ±ï¼›\n" +
"ï¼åœ¨å®‰å…¨å‰æä¸‹è©•ä¼°æ”¹è®Šï¼ˆå…§éƒ¨èª¿æ•´ã€å¤–éƒ¨è½‰è·ã€æ­£å¼ç”³è¨´ï¼‰ï¼›\n" +
"ï¼åŒæ™‚æŒçºŒç¶­è­·è‡ªå·±çš„å¿ƒç†ç•Œç·šèˆ‡è‡ªæˆ‘åƒ¹å€¼æ„Ÿã€‚"
        }
      }
    ];

    // ========= DOM å…ƒç´  =========
    const progressText = document.getElementById("progress-text");
    const scoreText = document.getElementById("score-text");
    const progressFill = document.getElementById("progress-fill");

    const scenarioTag = document.getElementById("scenario-tag");
    const scenarioTitle = document.getElementById("scenario-title");
    const scenarioText = document.getElementById("scenario-text");
    const scenarioNote = document.getElementById("scenario-note");

    const q1Text = document.getElementById("q1-text");
    const q1OptionsContainer = document.getElementById("q1-options");
    const q1Feedback = document.getElementById("q1-feedback");
    const q1Explain = document.getElementById("q1-explanation");
    const q1ToggleExplain = document.getElementById("q1-toggle-explain");

    const q2Text = document.getElementById("q2-text");
    const q2OptionsContainer = document.getElementById("q2-options");
    const q2Feedback = document.getElementById("q2-feedback");
    const q2Explain = document.getElementById("q2-explanation");
    const q2ToggleExplain = document.getElementById("q2-toggle-explain");

    const q3Text = document.getElementById("q3-text");
    const q3OptionsContainer = document.getElementById("q3-options");
    const q3Feedback = document.getElementById("q3-feedback");
    const q3Explain = document.getElementById("q3-explanation");
    const q3ToggleExplain = document.getElementById("q3-toggle-explain");

    const nextBtn = document.getElementById("next-btn");
    const restartBtn = document.getElementById("restart-btn");
    const summaryText = document.getElementById("summary-text");
    const scorePill = document.getElementById("score-pill");

    // ========= ç‹€æ…‹ =========
    let currentIndex = 0;
    let totalCorrect = 0;
    let q1Answered = false;
    let q2Answered = false;
    let q3Answered = false;

    function renderScenario() {
      const s = scenarios[currentIndex];

      // æ›´æ–°é€²åº¦
      progressText.textContent = `æƒ…å¢ƒ ${currentIndex + 1} / ${scenarios.length}`;
      const progressPercent = (currentIndex / scenarios.length) * 100;
      progressFill.style.width = `${progressPercent}%`;
      scoreText.textContent = `ç›®å‰æ­£ç¢ºï¼š${totalCorrect} é¡Œ`;

      // æƒ…å¢ƒå…§å®¹
      scenarioTag.textContent = s.tag;
      scenarioTitle.textContent = s.title;
      scenarioText.textContent = s.text;
      scenarioNote.textContent = s.note || "";

      // Q1
      q1Text.textContent = s.q1.question;
      q1OptionsContainer.innerHTML = "";
      q1Feedback.textContent = "";
      q1Feedback.className = "feedback";
      q1Explain.textContent = s.q1.explanation;
      q1Explain.classList.remove("visible");
      s.q1.choices.forEach((choice, index) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "option-btn";
        btn.textContent = choice;
        btn.addEventListener("click", () => handleQ1Click(index, btn));
        q1OptionsContainer.appendChild(btn);
      });

      // Q2
      q2Text.textContent = s.q2.question;
      q2OptionsContainer.innerHTML = "";
      q2Feedback.textContent = "";
      q2Feedback.className = "feedback";
      q2Explain.textContent = s.q2.explanation;
      q2Explain.classList.remove("visible");
      s.q2.options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "option-btn";
        btn.textContent = opt.text;
        btn.addEventListener("click", () => handleQ2Click(index, btn));
        q2OptionsContainer.appendChild(btn);
      });

      // Q3
      q3Text.textContent = s.q3.question;
      q3OptionsContainer.innerHTML = "";
      q3Feedback.textContent = "";
      q3Feedback.className = "feedback";
      q3Explain.textContent = s.q3.explanation;
      q3Explain.classList.remove("visible");
      s.q3.options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "option-btn";
        btn.textContent = opt.text;
        btn.addEventListener("click", () => handleQ3Click(index, btn));
        q3OptionsContainer.appendChild(btn);
      });

      // é‡ç½®æ­¥é©Ÿç‹€æ…‹
      q1Answered = false;
      q2Answered = false;
      q3Answered = false;
      nextBtn.disabled = true;
      summaryText.textContent = "ä¾åºå®Œæˆä¸‰å€‹æ­¥é©Ÿï¼Œå†é€²å…¥ä¸‹ä¸€å€‹æƒ…å¢ƒã€‚";
    }

    function handleQ1Click(index, btn) {
      if (q1Answered) return;
      const s = scenarios[currentIndex];
      const correctIndex = s.q1.correctIndex;
      const buttons = q1OptionsContainer.querySelectorAll(".option-btn");
      buttons.forEach(b => b.classList.add("disabled"));

      if (index === correctIndex) {
        btn.classList.add("correct");
        q1Feedback.textContent = "âœ… æ²’éŒ¯ï¼Œé€™è£¡çš„é—œéµå•é¡Œè¢«ä½ æŠ“åˆ°äº†ã€‚";
        q1Feedback.classList.add("correct");
        totalCorrect++;
        scoreText.textContent = `ç›®å‰æ­£ç¢ºï¼š${totalCorrect} é¡Œ`;
      } else {
        btn.classList.add("incorrect");
        buttons[correctIndex].classList.add("correct");
        q1Feedback.textContent = "âŒ å¾ˆå¤šäººä¸€é–‹å§‹æœƒé€™æ¨£æƒ³ï¼Œå†çœ‹è§£ææƒ³æƒ³ï¼šçœŸæ­£çš„é—œéµåœ¨å“ªè£¡ï¼Ÿ";
        q1Feedback.classList.add("incorrect");
      }
      q1Answered = true;
      updateNextButtonState();
    }

    function handleQ2Click(index, btn) {
      if (q2Answered) return;
      const s = scenarios[currentIndex];
      const selected = s.q2.options[index];
      const buttons = q2OptionsContainer.querySelectorAll(".option-btn");
      buttons.forEach(b => b.classList.add("disabled"));

      if (selected.isBest) {
        btn.classList.add("correct");
        q2Feedback.textContent = "âœ… å¾ˆå¥½ï¼Œé€™ç¨®å›æ‡‰å…¼é¡§äº†å°ˆæ¥­èˆ‡è‡ªæˆ‘ä¿è­·ã€‚";
        q2Feedback.classList.add("correct");
        totalCorrect++;
        scoreText.textContent = `ç›®å‰æ­£ç¢ºï¼š${totalCorrect} é¡Œ`;
      } else {
        btn.classList.add("incorrect");
        q2Feedback.textContent = "âŒ å…ˆçœ‹è§£æï¼Œæƒ³æƒ³é€™æ¨£å›ä¹‹å¾Œï¼Œæ¬ŠåŠ›èˆ‡é—œä¿‚æœƒå¾€å“ªé‚Šå‚¾æ–œã€‚";
        q2Feedback.classList.add("incorrect");
        s.q2.options.forEach((opt, idx) => {
          if (opt.isBest) {
            buttons[idx].classList.add("correct");
          }
        });
      }
      q2Answered = true;
      updateNextButtonState();
    }

    function handleQ3Click(index, btn) {
      if (q3Answered) return;
      const s = scenarios[currentIndex];
      const selected = s.q3.options[index];
      const buttons = q3OptionsContainer.querySelectorAll(".option-btn");
      buttons.forEach(b => b.classList.add("disabled"));

      if (selected.isBest) {
        btn.classList.add("correct");
        q3Feedback.textContent = "âœ… ä¸åªæ˜¯æ’ä¸‹å»ï¼Œè€Œæ˜¯é–‹å§‹å–„ç”¨ç´€éŒ„èˆ‡æ”¯æŒç³»çµ±ã€‚";
        q3Feedback.classList.add("correct");
        totalCorrect++;
        scoreText.textContent = `ç›®å‰æ­£ç¢ºï¼š${totalCorrect} é¡Œ`;
      } else {
        btn.classList.add("incorrect");
        q3Feedback.textContent = "âŒ é€™å¯èƒ½æœƒå¸¶ä¾†çŸ­æœŸç´“å£“ï¼Œä½†é•·æœŸé¢¨éšªå¾ˆå¤§ï¼Œçœ‹çœ‹è§£æã€‚";
        q3Feedback.classList.add("incorrect");
        s.q3.options.forEach((opt, idx) => {
          if (opt.isBest) {
            buttons[idx].classList.add("correct");
          }
        });
      }
      q3Answered = true;
      updateNextButtonState();
    }

    function updateNextButtonState() {
      if (q1Answered && q2Answered && q3Answered) {
        nextBtn.disabled = false;

        const totalQuestions = scenarios.length * 3;
        if (currentIndex === scenarios.length - 1) {
          nextBtn.textContent = "å®Œæˆæœ¬è¼ªç·´ç¿’ ğŸ‰";
          summaryText.textContent = "å·²å®Œæˆæ‰€æœ‰æƒ…å¢ƒï¼ä½ å¯ä»¥é‡æ–°é–‹å§‹ï¼Œæˆ–æˆªåœ–èˆ‡åŒå­¸è¨è«–ä½ çš„é¸æ“‡ã€‚";
          scorePill.textContent = `ç¸½æ­£ç¢ºï¼š${totalCorrect} / ${totalQuestions}`;
        } else {
          nextBtn.textContent = "ä¸‹ä¸€å€‹æƒ…å¢ƒ â–·";
          summaryText.textContent = "æº–å‚™å¥½å¾Œï¼Œå¯ä»¥é€²å…¥ä¸‹ä¸€å€‹æƒ…å¢ƒã€‚";
          scorePill.textContent = "æŒçºŒç·´åŠŸä¸­";
        }
      }
    }

    function goToNextScenario() {
      if (!(q1Answered && q2Answered && q3Answered)) return;

      if (currentIndex < scenarios.length - 1) {
        currentIndex++;
        renderScenario();
      } else {
        // å®Œæˆä¸€è¼ªå¾Œï¼Œå†æŒ‰å°±é‡æ–°é–‹å§‹
        currentIndex = 0;
        totalCorrect = 0;
        renderScenario();
        scorePill.textContent = "æ–°çš„ä¸€è¼ªé–‹å§‹";
      }
    }

    function restartAll() {
      currentIndex = 0;
      totalCorrect = 0;
      renderScenario();
      scorePill.textContent = "ç·´ç¿’ä¸­";
    }

    // è§£æé–‹é—œ
    q1ToggleExplain.addEventListener("click", () => {
      q1Explain.classList.toggle("visible");
    });
    q2ToggleExplain.addEventListener("click", () => {
      q2Explain.classList.toggle("visible");
    });
    q3ToggleExplain.addEventListener("click", () => {
      q3Explain.classList.toggle("visible");
    });

    nextBtn.addEventListener("click", goToNextScenario);
    restartBtn.addEventListener("click", restartAll);

    // åˆå§‹åŒ–
    renderScenario();
  </script>
</body>
</html>
